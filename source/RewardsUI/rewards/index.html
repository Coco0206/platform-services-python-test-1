<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">	
    {% load static %}	
    <link href="{% static 'rewards_style.css' %}" rel="stylesheet" type="text/css">
</head>
<body>
    <div id="main-header">
    <h1>Welcome to the Rewards Dashboard</h1>
    </div>

    <div class="section col center-content">
        <h2>Reward Tiers</h2>
        <table border="1">
            <tr class="table-header">
                <th>Rewards Tier<th>
                <th>Reward Points</th>
                <th>Rewards Tier Name</th>
            </tr>
            {% for reward in rewards_data %}
                <tr>
                    <td>{{ reward.tier }}<td>
                    <td>{{ reward.points }}</td>
                    <td>{{ reward.rewardName }}</td>
                </tr>
            {% endfor %}
        </table>
        <hr>
    </div>


    <div class="section col center-content">
        <h2>Add orders</h2>
        <form for="order" method="POST">

            {% csrf_token %}

            <label>Enter email address: </label>	
            <input class="input" id="order_email" name="order_email" type="email" required/><br>	
            <label>Enter order total: </label>	
            <input class="input" id="order_total" name="order_total" type="number" step= "1" pattern="\d+" required/>	
            <input class="submit-btn" type="submit" value="Submit Order"/>
        </form>
        <hr>
    </div>


    <div class="section col center-content">
        <h2>User Rewards</h2>
        <form for="email" method="GET">
            <label>Email address: </label>
            <input class="input" id="email" name="email" type="text"/>	
            <input class="submit-btn" type="submit" value="Search"/>
        </form>

        <table border="1">
            <thead>
            <tr class="table-header">
                <th>Email Address</th>
                <th>Reward Points</th>
                <th>Reward Tier</th>
                <th>Reward Tier Name</th>
                <th>Next Reward Tier</th>
                <th>Next Reward Tier Name</th>
                <th>Next Reward Tier Progress</th>
            </tr>
            </thead>
            <tbody>
                {% for customer in customers_data %}
                <tr>
                    <td>{{ customer.email }}</td>
                    <td>{{ customer.points }}</td>
                    <td>{{ customer.tier }}</td>
                    <td>{{ customer.rewardName }}</td>
                    <td>{{ customer.nextTier }}</td>
                    <td>{{ customer.nextReward }}</td>
                    <td>{{ customer.progress}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>